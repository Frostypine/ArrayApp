{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\Git\\\\Array\\\\projects\\\\arrayapp\\\\client\\\\src\\\\components\\\\User\\\\UserLogin.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, InputGroup, FormControl, Button } from \"react-bootstrap\"; //import 'bootstrap/dist/css/bootstrap.min.css';\n\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { editUserActive, loginUser, selectLocalUserInfo, selectUsers } from \"../../state/usersSlice\";\nimport { updateUser } from \"../../api/userAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UserLogin() {\n  _s();\n\n  const localUserInfo = useSelector(selectLocalUserInfo);\n  const users = useSelector(selectUsers);\n  const dispatch = useDispatch();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const checkAuth = e => {\n    e.preventDefault();\n    if (username === \"\") return alert(\"username cannot be empty\");\n    if (password === \"\") return alert(\"password cannot be empty\");\n    const user = users.find(e => e.username === username);\n    if (!user) return alert(\"user not found\");\n    if (user.password === \"\") alert(\"you cannot login as an anonymous user\");\n\n    if (password === user.password) {\n      const userData = {\n        _id: localUserInfo.user_id,\n        socket_id: \"\",\n        active: false\n      };\n      dispatch(editUserActive(userData));\n      socket.emit(\"userLogout\");\n      updateUser(userData._id, {\n        active: userData.active,\n        socket_id: userData.socket_id\n      });\n      dispatch(loginUser({\n        user_id: user._id,\n        loggedIn: true\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [\" Login\", /*#__PURE__*/_jsxDEV(Form // onSubmit={(e) => {\n    //   checkAuth(e);\n    // }}\n    , {\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(InputGroup, {\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            className: \"username-input\",\n            id: \"inlineFormInputGroupUsername\",\n            placeholder: \"username\" //   value={username}\n            //   onChange={(e) => {\n            //     setUsername(e.target.value.toLowerCase());\n            //   }}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          className: \"password-input\",\n          type: \"password\",\n          placeholder: \"password\" // value={password}\n          // onChange={(e) => {\n          //   setPassword(e.target.value);\n          // }}\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"submitButton\",\n        variant: \"blue\",\n        type: \"submit\",\n        style: {\n          height: '3rem',\n          background: '',\n          borderRadius: '15%',\n          border: `3px solid white`,\n          color: 'white'\n        },\n        children: \"login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/user/sign-up\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sign-up-link primary\",\n          style: {\n            color: 'white'\n          },\n          children: \"sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/options\",\n        children: \"options\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserLogin, \"NlhgCFfOWNyq2qjKHtoQjuzInYg=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = UserLogin;\nexport default UserLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserLogin\");","map":{"version":3,"sources":["D:/Code/Git/Array/projects/arrayapp/client/src/components/User/UserLogin.jsx"],"names":["React","Link","Form","InputGroup","FormControl","Button","useState","useDispatch","useSelector","editUserActive","loginUser","selectLocalUserInfo","selectUsers","updateUser","UserLogin","localUserInfo","users","dispatch","username","setUsername","password","setPassword","checkAuth","e","preventDefault","alert","user","find","userData","_id","user_id","socket_id","active","socket","emit","loggedIn","height","background","borderRadius","border","color"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {Link} from 'react-router-dom';\r\nimport { Form, InputGroup, FormControl, Button } from \"react-bootstrap\";\r\n//import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { editUserActive, loginUser, selectLocalUserInfo, selectUsers } from \"../../state/usersSlice\";\r\nimport { updateUser } from \"../../api/userAPI\";\r\n\r\n\r\n function UserLogin() {\r\n  const localUserInfo = useSelector(selectLocalUserInfo)\r\n  const users = useSelector(selectUsers);\r\n  const dispatch = useDispatch();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const checkAuth = (e) => {\r\n    e.preventDefault();\r\n    if (username === \"\") return alert(\"username cannot be empty\");\r\n    if (password === \"\") return alert(\"password cannot be empty\");\r\n    const user = users.find((e) => e.username === username)\r\n    if (!user) return alert(\"user not found\");\r\n    if (user.password === \"\") alert(\"you cannot login as an anonymous user\")\r\n    if (password === user.password) {\r\n      const userData = {\r\n        _id: localUserInfo.user_id,\r\n        socket_id: \"\",\r\n        active: false,\r\n      };\r\n      dispatch(editUserActive(userData));\r\n      socket.emit(\"userLogout\")\r\n      updateUser(userData._id, {\r\n        active: userData.active,\r\n        socket_id: userData.socket_id,\r\n      });\r\n      dispatch(\r\n        loginUser({\r\n          user_id: user._id,\r\n          loggedIn: true,\r\n        })\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <div className='login'> Login\r\n              <Form\r\n        // onSubmit={(e) => {\r\n        //   checkAuth(e);\r\n        // }}\r\n      >\r\n        <Form.Group className=\"mb-3\" >\r\n          <InputGroup>\r\n            <FormControl\r\n              className=\"username-input\"\r\n              id=\"inlineFormInputGroupUsername\"\r\n              placeholder=\"username\"\r\n            //   value={username}\r\n            //   onChange={(e) => {\r\n            //     setUsername(e.target.value.toLowerCase());\r\n            //   }}\r\n            />\r\n          </InputGroup>\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" >\r\n          <Form.Control\r\n            className=\"password-input\"\r\n            type=\"password\"\r\n            placeholder=\"password\"\r\n            // value={password}\r\n            // onChange={(e) => {\r\n            //   setPassword(e.target.value);\r\n           // }}\r\n          />\r\n        </Form.Group>\r\n      \r\n     <Button className='submitButton' variant=\"blue\" type=\"submit\"\r\n     style={{height:'3rem', background: '',borderRadius:'15%', \r\n             border: `3px solid white`, color: 'white' }}\r\n     >\r\n     \r\n         login\r\n       </Button>\r\n        {/* &nbsp;&nbsp; */}\r\n        <br/>\r\n        <Link to=\"/user/sign-up\">\r\n          <span className=\"sign-up-link primary\"\r\n          style={{color: 'white'}}\r\n          >sign up</span>\r\n        </Link>\r\n        <br/> <br/>\r\n           <Link to=\"/options\"> \r\n           options\r\n            </Link>\r\n      </Form>\r\n    </div>\r\n  ); \r\n}\r\nexport default UserLogin; "]},"metadata":{},"sourceType":"module"}